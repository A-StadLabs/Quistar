<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../../bower_components/core-selector/core-selector.html">
<!--
<link rel="import" href="../../bower_components/core-animated-pages/slide-from-right.html">
<link rel="import" href="../../bower_components/core-animated-pages/cross-fade.html">
-->
<link rel="import" href="../../bower_components/core-animated-pages/transitions/slide-up.html">

<polymer-element name="our-opgave" attributes="vragen">

<template>
  <link rel="stylesheet" href="our-opgave.css">
  <core-animated-pages selected="0" id="opgaveScenes" fit transitions="slide-from-right">

  <template repeat="{{ vraag, i in vragen }}">
    <section id="{{i}}" vertical layout center center-justified fit>
      <h1>{{vraag.opgave}}</h1>
      <core-selector id="antwoordSelector" selected="{{selectedAntwoord}}" valueattr="juiste" on-core-activate="{{geefAntwoord}}" vertical layout center>
      <template repeat="{{ antwoord, i in vraag.antwoorden }}">
      <core-icon-button id="{{i}}" juiste="{{antwoord.juist}}" antwoord="{{antwoord.antwoord}}">{{ antwoord.antwoord }}</core-icon-button>
      </template>
      </core-selector>
    </section>
  </template>
</core-animated-pages>
</template>
<script>
  (function () {
    'use strict';

    Polymer({
      ready: function(){
        this.selectedAntwoord = -1;
        this.$.opgaveScenes.selected = 0;
      },
      vragenChanged: function(){
        //console.log(this.vragen);
      },
      geefAntwoord: function(){
        console.log('Gegeven antwoord is: ', this.selectedAntwoord);
        // hier komt de logica om te zien of het antwoord goed of fout is
        // tot hier dan de logica.
        if(this.$.opgaveScenes.selected<7){
        this.$.opgaveScenes.selected++;
        this.fire('addscore', {antwoordis: this.selectedAntwoord});
      } else {
        this.fire('einde');
        this.$.opgaveScenes.selected = 0;
      }
        this.selectedAntwoord = -1;
      }
      

    });

  })();
</script>
</polymer-element>
